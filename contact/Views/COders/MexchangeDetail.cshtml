@model IEnumerable<contact.ViewModels.CexchangeRecord>
@{
    ViewBag.Title = "Mexchange-換貨--經銷商換貨申請";

}

<style>
    h1 {
        color: gainsboro;
    }
</style>
@{ var aItem = @Model.FirstOrDefault();}

<div class="container-fluid mt-1 p-5">
    <h1>@ViewBag.data</h1>
    <h1>我是詳情</h1>
    <h4>[權限]盤商：盤商換貨申請詳情</h4>


    <table class="table ordertable col-12 col-md-12 " style="table-layout: fixed; word-break: break-all;font-size: 1.0rem">

        <tr>
            <th>申請日期</th>
            <th>售後服務申請單號</th>
            <th>申請人</th>
            <th>售後服務申請狀態</th>
            <th>產品對外產品識別ID</th>
            <th>產品名稱</th>
            <th>近視度數</th>
            <th>散光度數</th>
            <th>散光角度</th>
            <th>換貨數量</th>
            <th>經銷商聯絡電話</th>
            <th>經銷商地址</th>
            <th>換貨原因</th>
            <th>換貨備註</th>
            <th></th>
        </tr>


        @foreach (var item in Model)
        {
            <tr>
                <td>@item.f申請日期</td>
                <td>@item.f售後服務申請對外Id</td>
                <td>@item.f店家名稱</td>
                <td>@item.f換貨申請狀態</td>
                <td>@item.f對外產品識別ID</td>
                <td>@item.f產品名稱</td>
                <td>@item.f近視老花度數</td>
                <td>@item.f閃光度數</td>
                <td>@item.f閃光角度</td>
                <td>@item.f換貨數量</td>
                <td>@item.f店家連絡電話</td>
                <td>@item.f地址</td>
                <td>@item.f換貨原因</td>
                <td>@item.f換貨備註</td>
                <td>
                    @if (item.f可換貨)
                    {


                    }
                    else
                    {
                        @:庫存不足


                    }
                </td>

            </tr>
        }


    </table>
</div>



@{

    if (Model.Where(m => m.f可換貨 == false).Count() > 0)
    {


        @Html.ActionLink("取消此單", "", new { id = aItem.f售後服務申請對外Id }, new { @class = "tomatodangerbtn" });@*方法?訂單被取消才會出現嗎?那存在必要?*@

        @Html.ActionLink("輸入取消原因", "", new { id = aItem.f售後服務申請對外Id }, new { @class = "tomatocartbtn" });@*這個連到哪?*@

    }
    else
    {
        @Html.ActionLink("前往出貨管理", "", new { }, new { @class = "tomatocartbtn" }) ;
    }
}

@section scripts{
    <script>
        /*這裡是表單HOVER*/
        $(function () {

            $(".ordertable tr:odd").addClass("orderodd");
            $(".ordertable tr:even").addClass("ordereven");

            // 為 class 等於 tomato 的 table元件 的 每一個 row  附加 mouseenter 和 mouseout 事件
            $(".ordertable tr").hover(
                function () {
                    $(this).addClass("orderenter"); // 觸發 mouseenter 事件 新增 css
                },
                function () {
                    $(this).removeClass("orderenter"); // 觸發 mouseleave 事件 移除 css
                }
            );

            //找到未出貨變色https://blog.csdn.net/qq_42469759/article/details/109183193
            $('.ordertable tbody').find("tr").each(function () {
                let bb = $(this).children('td:eq(3)').text();
                console.log(bb);
                if (bb == '未出貨') {
                    $(this).children('td:eq(3)').css("color", "red");
                }

            });

        });


    </script>

}

<!--@section styles{

    <style>
    </style>
}

<div class="container-fluid mt-1 p-5">
    <h2 class="mb-5">換貨詳情管理</h2>

    <div class="row justify-content-between">
        <div class="col-4">
            訂單單號：123456798
        </div>
        <div class="col-4">
            訂單日期：2021.02.25
        </div>-->
<!-- 下面如果不包在<div class="row"></div> 就會變成滿版色塊 -->
<!--<div class="row container-fluid col-10 m-3">

            <div class="border border-primary rounded ">
                <p>經銷商：</p>
                <p>電話：</p>
                <p>地址：</p>
            </div>
        </div>

    </div>
</div>



<div class="container-fluid px-5">
    <table class="table  table-hover">
        <thead>
            <tr>
                <th scope="col">序號</th>
                <th scope="col">商品編號</th>
                <th scope="col">商品名稱</th>
                <th scope="col">數量</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">1</th>
                <td>1234567890123456</td>
                <td>我是商品我的顏色我幾度</td>
                <td>12345</td>
            </tr>
            <tr>
                <th scope="row">2</th>
                <td>1234567890123456</td>
                <td>我是商品我的顏色我幾度</td>
                <td>12345</td>
            </tr>
            <tr>
                <th scope="row">3</th>
                <td>1234567890123456</td>
                <td>我是商品我的顏色我幾度</td>
                <td>12345</td>
            </tr>
            <tr>
                <th scope="row">4</th>
                <td>1234567890123456</td>
                <td>我是商品我的顏色我幾度</td>
                <td>12345</td>
            </tr>

            <tr>
                <th scope="row" colspan="3"></th>
                <td class="bg-info text-light text-center">訂單總額</td>
            </tr>
        </tbody>

    </table>

    <button type="button" class="btn btn-outline-dark btn-sm float-right mt-3">前往出貨管理</button>
</div>
<div>
    <label>總金額：</label><p class="d-inline">12321</p></br>
    <label>換貨原因：</label><p class="d-inline">asdferafafarf</p></br>
    <label>備註：</label><p class="d-inline">asdferafafarf</p></br>
    <label>狀態：</label><p class="d-inline">未出貨</p>
</div>

<button type="button" class="btn btn-outline-dark btn-sm float-right mt-3">刪除申請</button>-->
