@model IEnumerable<contact.ViewModels.MOderDetailRecord>

@{
    ViewBag.Title = "MOderDetail-歷史訂單一覽[權限:盤商]";
}
<style>
    h1 {
        color: gainsboro;
    }

    .bigtext {
        font-family: jf-openhuninn;
        font-size: 2.0rem;
    }
 
</style>

<div class="container-fluid mt-1 p-5">

    <h2 class="mb-5">訂單詳情管理</h2>

    @{var aItem = Model.FirstOrDefault(); }
    <div class="row justify-content-between">
        <div class="col-4 bigtext">
            訂單單號:@aItem.f對外訂單單號<br>
        </div>
        <div class="col-4 bigtext">
            訂單日期:@aItem.f訂購日期<br>
        </div>

        <hr />

        <div class="col-4 family m-5">
            付款狀態:@aItem.f付款狀態<br />
            訂單需求:@aItem.f訂單需求<br />
            出貨狀態:@aItem.f配送狀態
        </div>


        <div class=" row col-4 family m-5 pl-3 border border-warning rounded ">
            經銷商名稱:@aItem.f店家名稱<br />
            連絡電話:@aItem.f店家連絡電話<br />
            聯絡地址:@aItem.f地址
        </div>

    </div>




    <div class="container-fluid">

        <table class="table ordertable col-12 col-md-10">
            <tr>
                <th>商品編號</th>
                <th>商品名稱</th>
                <th>顏色</th>
                <th>數量</th>
                <th>小計</th>

            </tr>
            @{
                foreach (var item in Model)
                {


                    <tr>
                        <td>
                            @item.f對外訂單單號
                        </td>
                        <td>
                            @item.f產品名稱
                        </td>
                        <td>
                            @item.f產品顏色
                        </td>
                        <td>
                            @item.f訂購數量
                        </td>
                        <td>
                            @item.f小計 元
                        </td>


                    </tr>
                }
            }
        </table>
    </div>


    <div class="row justify-content-end family" style="font-size:1.5rem">
        總價:@aItem.f訂單總金額 元
    </div>
    <div class="mb-5" style="font-family:jf-openhuninn; font-size:1.3rem">
        備註:@aItem.f訂單備註
    </div>
</div>

<div class="">@*如何移動到右邊*@
    @Html.ActionLink("前往出貨管理", "Mshipping", new { id = aItem.f對外產品識別ID }, new { @class = "tomatocartbtn" })
    @Html.ActionLink("取消", "MOderDetailDelete", new { id = aItem.f對外訂單單號 }, new { @class = "tomatodangerbtn" })
</div>





@section scripts{
    <script>

        /*這裡是表單HOVER*/
        $(function () {

            $(".ordertable tr:odd").addClass("orderodd");
            $(".ordertable tr:even").addClass("ordereven");

            // 為 class 等於 tomato 的 table元件 的 每一個 row  附加 mouseenter 和 mouseout 事件
            $(".ordertable tr").hover(
                function () {
                    $(this).addClass("orderenter"); // 觸發 mouseenter 事件 新增 css
                },
                function () {
                    $(this).removeClass("orderenter"); // 觸發 mouseleave 事件 移除 css
                }
            );

            //找到未出貨變色https://blog.csdn.net/qq_42469759/article/details/109183193
            $('.ordertable tbody').find("tr").each(function () {
                let bb = $(this).children('td:eq(3)').text();
                console.log(bb);
                if (bb == '未出貨') {
                    $(this).children('td:eq(3)').css("color", "red");
                }

            });




        });
    </script>

}
































@*@model contact.ViewModels.MOderDetailRecord

    @{
        ViewBag.Title = "MOderDetail-歷史訂單一覽[權限:盤商]";
    }
    <style>
        h1 {
            color: gainsboro;
        }
    </style>

    <h2>訂單管理</h2>

    訂單日期:@Model.f訂購日期
    訂單單號:@Model.f對外訂單單號
    付款狀態:@Model.f付款狀態
    訂單狀態:@Model.f訂單狀態
    訂單需求:@Model.f訂單需求
    <div>
        經銷商名稱:@Model.f店家名稱
        連絡電話:@Model.f店家連絡電話
        聯絡地址:@Model.f地址
    </div>
    <table class="table">
        <tr>
            <th>商品編號</th>
            <th>商品</th>
            <th>數量</th>
            <th>小計</th>

        </tr>

        <tr>
            <td>
                @Model.f對外訂單單號
            </td>
            <td>
                @Model.f產品名稱
            </td>
            <td>
                @Model.f訂購數量
            </td>
            <td>
                @Model.f小計
            </td>
        </tr>

    </table>

    總價:@Model.f訂單總金額
    備註:@Model.f訂單備註
    @Html.ActionLink("修改", "", new { id = Model.f對外產品識別ID })
    <form>
        <label>商品名稱:</label>
        <input type="text" />
        <label>單價:</label>
        <input type="text" />
        <label>數量:</label>
        <input type="number" />
        <input type="submit" value="確認修改" />
    </form>
    @Html.ActionLink("前往出貨管理", "Mshipping", new { })
    @Html.ActionLink("刪除此訂單", "MOderDetailDelete", new { id = Model.f對外訂單單號 })





    @section scripts{
        <script></script>

    }*@








