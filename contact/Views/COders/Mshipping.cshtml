@model IEnumerable<contact.ViewModels.MOrderRecord>


@{
    ViewBag.Title = "出貨管理";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section styles{

    <style>
    </style>
}

<div class="container-fluid mt-1 p-5">
    <h2 class="mb-5">出貨管理</h2>
        <table class="table ordertable col-12 col-md-10">
            <tr>
                <th>
                    訂購日期
                </th>
                <th>
                    對外訂單單號
                </th>

                <th>
                    店家名稱
                </th>

                <th>
                    訂單狀態
                </th>

                <th>
                    產品名稱
                </th>
                <th>
                    訂購數量
                </th>

                <th>
                    商品編號
                </th>
                <th>
                    店家連絡電話
                </th>
                <th>
                    地址
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.f訂購日期)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.f對外訂單單號)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.f店家名稱)
                    </td>


                    <td>
                        @Html.DisplayFor(modelItem => item.f配送狀態)
                    </td>


                    <td>
                        @Html.DisplayFor(modelItem => item.f產品名稱)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.f訂購數量)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.f對外產品識別ID)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.f店家連絡電話)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.f地址)
                    </td>
                    <td>
                        @Html.ActionLink("生成QR CODE", "Edit", new { id = item.f對外訂單單號 }, new { @class = "tomatocartbtn" }) |
                        @Html.ActionLink("出貨", "MOderDetailShipping", new { id = item.f對外訂單單號 }, new { @class = "tomatocartbtn" }) |
                        @Html.ActionLink("回一覽頁面", "MOders", new { }, new { @class = "tomatoaddbtn" })
                    </td>
                </tr>
            }

        </table>

</div>










        @*@model IEnumerable<contact.ViewModels.MOrderRecord>

                備份
            @{
                ViewBag.Title = "出貨管理";
                Layout = "~/Views/Shared/_Layout.cshtml";
            }

            @section styles{

                <style>
                </style>
            }

            出貨管理
            <table class="table">
                <tr>
                    <th>
                        訂購日期
                    </th>
                    <th>
                        對外訂單單號
                    </th>

                    <th>
                        店家名稱
                    </th>

                    <th>
                        訂單狀態
                    </th>

                    <th>
                        產品名稱
                    </th>
                    <th>
                        訂購數量
                    </th>

                    <th>
                        商品編號
                    </th>
                    <th>
                        店家連絡電話
                    </th>
                    <th>
                        地址
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.f訂購日期)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.f對外訂單單號)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.f店家名稱)
                        </td>


                        <td>
                            @Html.DisplayFor(modelItem => item.f配送狀態)
                        </td>


                        <td>
                            @Html.DisplayFor(modelItem => item.f產品名稱)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.f訂購數量)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.f對外產品識別ID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.f店家連絡電話)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.f地址)
                        </td>
                        <td>
                            @Html.ActionLink("生成QR CODE", "Edit", new { /* id=item.PrimaryKey */ }) |
                            <input type="submit" value="確認出貨">

                        </td>
                    </tr>
                }

            </table>*@



        @*我的排版
            <div class="container-fluid mt-1 p-5">
                <h2 class="mb-5">出貨管理</h2>

                <div class="row justify-content-between">
                    <div class="col-4">
                        訂單單號：123456798
                    </div>
                    <div class="col-4">
                        訂單日期：2021.02.25
                    </div>
                    <div class="row container-fluid col-10 m-3">

                        <div class="border border-primary rounded ">
                            <p>經銷商：</p>
                            <p>電話：</p>
                            <p>地址：</p>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <label>訂購品項</label>
            </div>

            <div class="container-fluid">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th scope="col">序號</th>
                            <th scope="col">商品編號</th>
                            <th scope="col">商品名稱</th>
                            <th scope="col">數量</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <th scope="row">1</th>
                            <td>1234567890123456</td>
                            <td>AAAAAAAA</td>
                            <td>12</td>
                        </tr>
                        <tr>
                            <th scope="row">1</th>
                            <td>1234567890123456</td>
                            <td>AAAAAAAA</td>
                            <td>12</td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div>
                <p>備註：</p>
            </div>
            <button type="button" class="btn btn-primary btn-sm">生成QRcode</button>
            <button type="button" class="btn btn-primary btn-sm">確認出貨</button>*@



        @section scripts{
            <script>
                /*這裡是表單HOVER*/
                $(function () {

                    $(".ordertable tr:odd").addClass("orderodd");
                    $(".ordertable tr:even").addClass("ordereven");

                    // 為 class 等於 tomato 的 table元件 的 每一個 row  附加 mouseenter 和 mouseout 事件
                    $(".ordertable tr").hover(
                        function () {
                            $(this).addClass("orderenter"); // 觸發 mouseenter 事件 新增 css
                        },
                        function () {
                            $(this).removeClass("orderenter"); // 觸發 mouseleave 事件 移除 css
                        }
                    );

                    //找到未出貨變色https://blog.csdn.net/qq_42469759/article/details/109183193
                    $('.ordertable tbody').find("tr").each(function () {
                        let bb = $(this).children('td:eq(3)').text();
                        console.log(bb);
                        if (bb == '未出貨') {
                            $(this).children('td:eq(3)').css("color", "red");
                        }

                    });



                });
            </script>

        }


